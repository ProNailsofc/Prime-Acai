<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A√ßa√≠ Prime | Fresh & Frozen</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configura√ß√£o de Cores Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            purple: '#663399', // Roxo A√ßa√≠
                            yellow: '#FFCC00', // Amarelo Tropical
                            light: '#f3e5f5',
                            dark: '#2d1b4e'
                        }
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Fontes e √çcones -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* CSS Personalizado */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FAFAFA;
            -webkit-tap-highlight-color: transparent;
        }

        .hide-scroll::-webkit-scrollbar {
            display: none;
        }
        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .hero-bg {
            background-image: url('fachada-acai.png');
            background-size: cover;
            background-position: center;
        }
        
        .snap-x-mandatory {
            scroll-snap-type: x mandatory;
        }
        .snap-center {
            scroll-snap-align: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="text-gray-800 pb-20">

    <!-- HEADER -->
    <header class="fixed top-0 w-full z-50 transition-all duration-300 bg-brand-purple/95 backdrop-blur-sm shadow-lg border-b border-brand-yellow/20" id="navbar">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex flex-col">
                <h1 class="text-xl font-bold text-white leading-tight">A√ßa√≠ Prime</h1>
                <span class="text-xs font-medium text-brand-yellow tracking-wider">Fresh & Frozen</span>
            </div>
            
            <button onclick="toggleCart()" class="relative p-2 text-white hover:text-brand-yellow transition-colors">
                <i class="fas fa-shopping-bag text-2xl"></i>
                <span id="cart-counter" class="absolute top-0 right-0 bg-brand-yellow text-brand-purple text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center transform scale-0 transition-transform duration-200">0</span>
            </button>
        </div>
    </header>

    <!-- HERO -->
    <section class="relative h-[60vh] min-h-[400px] flex items-end pb-12 hero-bg mt-14">
        <div class="absolute inset-0 bg-gradient-to-t from-brand-purple/90 via-brand-purple/50 to-transparent"></div>
        <div class="container mx-auto px-6 relative z-10 text-center">
            <div class="inline-block px-4 py-1 mb-3 border border-brand-yellow rounded-full bg-brand-purple/30 backdrop-blur-md">
                <span class="text-brand-yellow text-xs font-bold uppercase tracking-widest">Delivery Aberto</span>
            </div>
            <h2 class="text-4xl font-bold text-white mb-2 shadow-sm">Energia que vem <br><span class="text-brand-yellow">da Amaz√¥nia</span></h2>
            <p class="text-gray-200 text-sm mb-6 max-w-md mx-auto">O a√ßa√≠ mais puro da cidade, montado do seu jeito e entregue rapidinho.</p>
            <button onclick="scrollToMenu()" class="bg-brand-yellow text-brand-purple font-bold py-3 px-8 rounded-full shadow-lg hover:bg-white hover:text-brand-purple transition-all transform hover:scale-105">
                Ver Card√°pio <i class="fas fa-arrow-down ml-2"></i>
            </button>
        </div>
    </section>

    <!-- MENU -->
    <main id="cardapio" class="container mx-auto pt-8">

        <!-- Categoria 1 -->
        <div class="mb-10 pl-4">
            <h3 class="text-xl font-bold text-brand-purple mb-4 flex items-center">
                <i class="fas fa-leaf mr-2 text-brand-yellow"></i> Tigelas de A√ßa√≠
            </h3>
            
            <div class="flex overflow-x-auto gap-4 pb-6 pr-4 snap-x-mandatory hide-scroll">
                
                <!-- Produto 1 -->
                <div class="min-w-[280px] w-[280px] bg-white rounded-2xl shadow-md overflow-hidden snap-center border border-gray-100 flex flex-col">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="acai300.png" alt="A√ßa√≠ Tradicional 300ml" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/663399/FFFFFF?text=A√ßa√≠+300ml'">
                        <div class="absolute top-2 right-2 bg-brand-yellow text-brand-purple text-xs font-bold px-2 py-1 rounded-md">Mais Pedido</div>
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h4 class="font-bold text-gray-800 mb-1">A√ßa√≠ Tradicional 300ml</h4>
                        <p class="text-xs text-gray-500 mb-3 line-clamp-2">A√ßa√≠ puro, granola crocante e banana fatiada na hora.</p>
                        <div class="mt-auto flex justify-between items-center">
                            <span class="text-lg font-bold text-brand-purple">R$ 18,00</span>
                            <button onclick="addToCart(1)" class="bg-brand-purple text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-brand-yellow hover:text-brand-purple transition-colors shadow-sm">
                                <i class="fas fa-plus text-xs"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Produto 2 -->
                <div class="min-w-[280px] w-[280px] bg-white rounded-2xl shadow-md overflow-hidden snap-center border border-gray-100 flex flex-col">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="acaipower500.png" alt="A√ßa√≠ Power 500ml" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/663399/FFFFFF?text=A√ßa√≠+Power'">
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h4 class="font-bold text-gray-800 mb-1">A√ßa√≠ Power 500ml</h4>
                        <p class="text-xs text-gray-500 mb-3 line-clamp-2">A√ßa√≠ com leite ninho, morango fresco e pa√ßoca.</p>
                        <div class="mt-auto flex justify-between items-center">
                            <span class="text-lg font-bold text-brand-purple">R$ 25,00</span>
                            <button onclick="addToCart(2)" class="bg-brand-purple text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-brand-yellow hover:text-brand-purple transition-colors shadow-sm">
                                <i class="fas fa-plus text-xs"></i>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Categoria 2 -->
        <div class="mb-10 pl-4">
            <h3 class="text-xl font-bold text-brand-purple mb-4 flex items-center">
                <i class="fas fa-glass-whiskey mr-2 text-brand-yellow"></i> Bebidas
            </h3>
            
            <div class="flex overflow-x-auto gap-4 pb-6 pr-4 snap-x-mandatory hide-scroll">
                
                <!-- Produto 3 -->
                <div class="min-w-[260px] w-[260px] bg-white rounded-2xl shadow-md overflow-hidden snap-center border border-gray-100 flex flex-col">
                    <div class="h-36 bg-gray-100">
                        <img src="vitaminaacai.png" alt="Vitamina de A√ßa√≠" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/FFCC00/663399?text=Vitamina'">
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h4 class="font-bold text-gray-800 mb-1">Vitamina 500ml</h4>
                        <p class="text-xs text-gray-500 mb-3">Energia l√≠quida pra viagem.</p>
                        <div class="mt-auto flex justify-between items-center">
                            <span class="text-lg font-bold text-brand-purple">R$ 16,00</span>
                            <button onclick="addToCart(3)" class="bg-brand-purple text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-brand-yellow hover:text-brand-purple transition-colors shadow-sm">
                                <i class="fas fa-plus text-xs"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Produto 4 -->
                <div class="min-w-[260px] w-[260px] bg-white rounded-2xl shadow-md overflow-hidden snap-center border border-gray-100 flex flex-col">
                    <div class="h-36 bg-gray-100">
                        <img src="detox.png" alt="Suco Detox" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/4CAF50/FFFFFF?text=Detox'">
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h4 class="font-bold text-gray-800 mb-1">Suco Detox</h4>
                        <p class="text-xs text-gray-500 mb-3">Refrescante e saud√°vel.</p>
                        <div class="mt-auto flex justify-between items-center">
                            <span class="text-lg font-bold text-brand-purple">R$ 12,00</span>
                            <button onclick="addToCart(4)" class="bg-brand-purple text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-brand-yellow hover:text-brand-purple transition-colors shadow-sm">
                                <i class="fas fa-plus text-xs"></i>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Categoria 3 -->
        <div class="mb-10 px-4">
            <h3 class="text-xl font-bold text-brand-purple mb-4 flex items-center">
                <i class="fas fa-plus-circle mr-2 text-brand-yellow"></i> Adicionais
            </h3>
            
            <div class="grid grid-cols-2 gap-3">
                
                <!-- Produto 5 -->
                <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between">
                    <div class="flex items-center">
                        <img src="ninho.png" class="w-10 h-10 rounded-full object-cover mr-3 bg-gray-100" onerror="this.src='https://placehold.co/50/663399/FFFFFF?text=L'">
                        <div>
                            <h4 class="font-bold text-sm text-gray-800">Leite Ninho</h4>
                            <span class="text-xs font-bold text-brand-purple">R$ 3,00</span>
                        </div>
                    </div>
                    <button onclick="addToCart(5)" class="text-brand-purple hover:text-brand-yellow p-2">
                        <i class="fas fa-plus-circle text-xl"></i>
                    </button>
                </div>

                <!-- Produto 6 -->
                <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between">
                    <div class="flex items-center">
                        <img src="granola.png" class="w-10 h-10 rounded-full object-cover mr-3 bg-gray-100" onerror="this.src='https://placehold.co/50/FFCC00/663399?text=G'">
                        <div>
                            <h4 class="font-bold text-sm text-gray-800">Granola</h4>
                            <span class="text-xs font-bold text-brand-purple">R$ 2,50</span>
                        </div>
                    </div>
                    <button onclick="addToCart(6)" class="text-brand-purple hover:text-brand-yellow p-2">
                        <i class="fas fa-plus-circle text-xl"></i>
                    </button>
                </div>

            </div>
        </div>

        <!-- Provas Sociais -->
        <div class="mb-16 px-4">
            <h3 class="text-xl font-bold text-brand-purple mb-4 text-center">Quem prova, aprova! üíú</h3>
            <div class="grid grid-cols-2 gap-2">
                <div class="bg-gray-200 rounded-xl overflow-hidden aspect-[9/16] relative">
                    <div class="absolute inset-0 flex items-center justify-center bg-black/20">
                        <i class="fas fa-play text-white text-3xl opacity-80"></i>
                    </div>
                    <video src="video1.mp4" class="w-full h-full object-cover" poster="clienteacai.png" muted playsinline></video>
                </div>
                <div class="space-y-2">
                    <div class="bg-gray-200 rounded-xl overflow-hidden aspect-square relative">
                        <img src="clienteacai.png" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/300x300/663399/FFFFFF?text=Cliente'">
                    </div>
                     <div class="bg-gray-200 rounded-xl overflow-hidden aspect-square relative">
                        <div class="absolute inset-0 flex items-center justify-center bg-black/20">
                            <i class="fas fa-play text-white text-3xl opacity-80"></i>
                        </div>
                        <video src="video2.mp4" class="w-full h-full object-cover" muted playsinline></video>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- FOOTER -->
    <footer class="bg-brand-dark text-white py-8 text-center px-4 mb-16">
        <h2 class="text-2xl font-bold mb-2 text-brand-yellow">A√ßa√≠ Prime</h2>
        <p class="text-sm text-gray-400 mb-4">Energia natural no conforto da sua casa.</p>
        <p class="text-xs text-gray-500">¬© 2023 A√ßa√≠ Prime. Todos os direitos reservados.</p>
    </footer>

    <!-- CART SIDEBAR -->
    <div id="cart-overlay" onclick="toggleCart()" class="fixed inset-0 bg-black/50 z-[60] hidden transition-opacity duration-300 opacity-0 backdrop-blur-sm"></div>
    
    <div id="cart-sidebar" class="fixed top-0 right-0 h-full w-[90%] max-w-[400px] bg-white z-[70] transform translate-x-full transition-transform duration-300 shadow-2xl flex flex-col">
        <div class="bg-brand-purple p-4 flex justify-between items-center text-white shadow-md">
            <div class="flex items-center">
                <i class="fas fa-shopping-bag mr-3"></i>
                <h3 class="font-bold text-lg">Seu Pedido</h3>
            </div>
            <button onclick="toggleCart()" class="text-white hover:text-brand-yellow p-1">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>

        <!-- √Årea de Itens Corrigida -->
        <div class="flex-grow overflow-y-auto p-4 bg-gray-50 relative">
            
            <!-- Mensagem Vazia (Sempre presente, alternada via CSS) -->
            <div id="empty-cart-msg" class="text-center py-10 flex flex-col items-center opacity-60">
                <i class="fas fa-shopping-basket text-4xl text-gray-300 mb-3"></i>
                <p class="text-gray-500">Sua sacola est√° vazia.</p>
                <button onclick="toggleCart()" class="mt-4 text-brand-purple font-bold text-sm underline">Ver card√°pio</button>
            </div>

            <!-- Lista de Itens (Container separado) -->
            <div id="cart-items-list" class="space-y-4 hidden"></div>

        </div>

        <div class="border-t border-gray-200 bg-white p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
            <div class="flex justify-between items-center mb-4">
                <span class="text-gray-600">Total:</span>
                <span id="cart-total" class="text-2xl font-bold text-brand-purple">R$ 0,00</span>
            </div>

            <div id="checkout-form" class="space-y-3 mb-4 hidden">
                <input type="text" id="client-name" placeholder="Seu Nome" class="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-brand-purple focus:ring-1 focus:ring-brand-purple">
                <input type="text" id="client-address" placeholder="Endere√ßo de Entrega" class="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-brand-purple focus:ring-1 focus:ring-brand-purple">
                <textarea id="client-notes" placeholder="Observa√ß√µes (ex: sem pa√ßoca)" class="w-full p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-brand-purple focus:ring-1 focus:ring-brand-purple h-20 resize-none"></textarea>
            </div>

            <button id="checkout-btn" onclick="proceedToCheckout()" class="w-full bg-gray-300 text-gray-500 font-bold py-4 rounded-xl cursor-not-allowed transition-all shadow-md flex justify-center items-center" disabled>
                <i class="fab fa-whatsapp text-xl mr-2"></i> Finalizar Pedido
            </button>
        </div>
    </div>

    <!-- TOAST -->
    <div id="toast" class="fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-full shadow-lg z-[80] transition-all duration-300 translate-y-20 opacity-0 flex items-center min-w-[200px] justify-center">
        <i class="fas fa-check-circle text-brand-yellow mr-2"></i>
        <span class="font-medium text-sm">Adicionado √† sacola!</span>
    </div>

    <script>
        // Renomeado para evitar conflitos de namespace
        const productData = {
            1: { id: 1, name: "A√ßa√≠ Tradicional 300ml", price: 18.00 },
            2: { id: 2, name: "A√ßa√≠ Power 500ml", price: 25.00 },
            3: { id: 3, name: "Vitamina de A√ßa√≠ 500ml", price: 16.00 },
            4: { id: 4, name: "Suco Detox", price: 12.00 },
            5: { id: 5, name: "Adicional: Leite Ninho", price: 3.00 },
            6: { id: 6, name: "Adicional: Granola", price: 2.50 }
        };

        let cart = [];
        const WHATSAPP_NUMBER = "5592987654321";

        function addToCart(id) {
            // Garante que ID √© n√∫mero
            const productId = parseInt(id);
            const product = productData[productId];
            
            if (!product) {
                console.error("Produto n√£o encontrado:", productId);
                return;
            }

            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.qty++;
            } else {
                cart.push({ ...product, qty: 1 });
            }

            updateCartUI();
            showToast();
            animateCartIcon();
        }

        function removeFromCart(id) {
            const productId = parseInt(id);
            const index = cart.findIndex(item => item.id === productId);
            if (index !== -1) {
                if (cart[index].qty > 1) {
                    cart[index].qty--;
                } else {
                    cart.splice(index, 1);
                }
            }
            updateCartUI();
        }

        function updateCartUI() {
            const cartCounter = document.getElementById('cart-counter');
            const cartListContainer = document.getElementById('cart-items-list');
            const emptyMsg = document.getElementById('empty-cart-msg');
            const cartTotalEl = document.getElementById('cart-total');
            const checkoutForm = document.getElementById('checkout-form');
            const checkoutBtn = document.getElementById('checkout-btn');

            // 1. Atualizar Badge
            const totalQty = cart.reduce((sum, item) => sum + item.qty, 0);
            cartCounter.innerText = totalQty;
            
            if (totalQty > 0) {
                cartCounter.classList.remove('scale-0');
            } else {
                cartCounter.classList.add('scale-0');
            }

            // 2. Renderizar Lista
            // Limpa APENAS a lista, mantendo a estrutura do DOM intacta
            cartListContainer.innerHTML = '';
            
            if (cart.length === 0) {
                emptyMsg.classList.remove('hidden');
                cartListContainer.classList.add('hidden');
                checkoutForm.classList.add('hidden');
                
                checkoutBtn.disabled = true;
                checkoutBtn.classList.remove('bg-green-500', 'text-white', 'hover:bg-green-600');
                checkoutBtn.classList.add('bg-gray-300', 'text-gray-500', 'cursor-not-allowed');
                
                cartTotalEl.innerText = "R$ 0,00";
            } else {
                emptyMsg.classList.add('hidden');
                cartListContainer.classList.remove('hidden');
                checkoutForm.classList.remove('hidden');

                checkoutBtn.disabled = false;
                checkoutBtn.classList.remove('bg-gray-300', 'text-gray-500', 'cursor-not-allowed');
                checkoutBtn.classList.add('bg-green-500', 'text-white', 'hover:bg-green-600');

                cart.forEach(item => {
                    const itemTotal = (item.price * item.qty).toFixed(2).replace('.', ',');
                    const itemEl = document.createElement('div');
                    itemEl.className = 'flex justify-between items-center bg-white p-3 rounded-lg border border-gray-100 shadow-sm animate-fade-in';
                    itemEl.innerHTML = `
                        <div class="flex items-center gap-3">
                            <div class="flex flex-col">
                                <span class="font-bold text-sm text-gray-800">${item.name}</span>
                                <span class="text-xs text-brand-purple font-semibold">R$ ${itemTotal}</span>
                            </div>
                        </div>
                        <div class="flex items-center bg-gray-100 rounded-full px-2 py-1">
                            <button onclick="removeFromCart(${item.id})" class="text-gray-500 w-6 h-6 flex items-center justify-center font-bold hover:text-red-500">-</button>
                            <span class="text-sm font-bold w-6 text-center text-gray-800">${item.qty}</span>
                            <button onclick="addToCart(${item.id})" class="text-gray-500 w-6 h-6 flex items-center justify-center font-bold hover:text-green-500">+</button>
                        </div>
                    `;
                    cartListContainer.appendChild(itemEl);
                });

                // 3. Atualizar Total
                const totalValue = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
                cartTotalEl.innerText = `R$ ${totalValue.toFixed(2).replace('.', ',')}`;
            }
        }

        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            const overlay = document.getElementById('cart-overlay');
            const isClosed = sidebar.classList.contains('translate-x-full');

            if (isClosed) {
                sidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => overlay.classList.remove('opacity-0'), 10);
                document.body.style.overflow = 'hidden';
            } else {
                sidebar.classList.add('translate-x-full');
                overlay.classList.add('opacity-0');
                setTimeout(() => overlay.classList.add('hidden'), 300);
                document.body.style.overflow = 'auto';
            }
        }

        function proceedToCheckout() {
            if (cart.length === 0) return;

            const name = document.getElementById('client-name').value.trim();
            const address = document.getElementById('client-address').value.trim();
            const notes = document.getElementById('client-notes').value.trim();

            if (!name || !address) {
                alert("Por favor, preencha seu Nome e Endere√ßo para a entrega.");
                if(!name) document.getElementById('client-name').focus();
                else document.getElementById('client-address').focus();
                return;
            }

            let message = `*NOVO PEDIDO - A√áA√ç PRIME*\n\n`;
            message += `*Cliente:* ${name}\n`;
            message += `*Endere√ßo:* ${address}\n`;
            if (notes) message += `*Obs:* ${notes}\n`;
            message += `--------------------------------\n`;
            
            cart.forEach(item => {
                message += `${item.qty}x ${item.name} ... R$ ${(item.price * item.qty).toFixed(2).replace('.', ',')}\n`;
            });
            
            const totalValue = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
            message += `--------------------------------\n`;
            message += `*TOTAL: R$ ${totalValue.toFixed(2).replace('.', ',')}*\n`;

            const encodedMessage = encodeURIComponent(message);
            const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodedMessage}`;
            
            window.open(url, '_blank');
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => {
                toast.classList.add('translate-y-20', 'opacity-0');
            }, 2000);
        }

        function animateCartIcon() {
            const icon = document.querySelector('.fa-shopping-bag');
            icon.classList.add('scale-125');
            setTimeout(() => icon.classList.remove('scale-125'), 200);
        }

        function scrollToMenu() {
            const el = document.getElementById('cardapio');
            if (el) el.scrollIntoView({ behavior: 'smooth' });
        }

        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 10) {
                navbar.classList.add('shadow-lg');
            } else {
                navbar.classList.remove('shadow-lg');
            }
        });
    </script>
</body>
</html>
