<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A√ßa√≠ Prime | Fresh & Frozen</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configura√ß√£o Tailwind (Seguindo o Molde) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            // Mapeando 'red' para a Cor Principal (Roxo A√ßa√≠)
                            red: '#4C1D95', 
                            // Mapeando 'yellow' para a Cor Secund√°ria (Amarelo Tropical)
                            yellow: '#FBBF24',
                            dark: '#121212',
                            gray: '#F5F5F5'
                        },
                        fontFamily: { 
                            sans: ['Roboto', 'sans-serif'], 
                            display: ['Poppins', 'sans-serif'] 
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* CSS Cr√≠tico para evitar tela preta por padr√£o */
        body {
            background-color: #F9FAFB !important; /* For√ßa fundo claro */
            color: #1F2937;
        }

        /* Esconder scrollbar mas manter funcionalidade */
        .hide-scroll::-webkit-scrollbar {
            display: none;
        }
        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Anima√ß√µes suaves */
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .slide-in-right { animation: slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes slideInRight { from { transform: translateX(100%); } to { transform: translateX(0); } }

        /* Snap Scroll */
        .snap-x-mandatory {
            scroll-snap-type: x mandatory;
        }
        .snap-child {
            scroll-snap-align: center;
        }
    </style>
</head>
<body class="bg-gray-50 text-brand-dark font-sans antialiased pb-24 selection:bg-brand-red selection:text-white">

    <!-- HERO SECTION (Fachada + Navbar) -->
    <!-- Alterado bg-brand-dark para bg-brand-red para evitar bloco preto se a imagem falhar -->
    <header class="relative h-[380px] w-full bg-brand-red overflow-hidden rounded-b-[2.5rem] shadow-xl z-10">
        <!-- Imagem de Fundo -->
        <img src="fachada-acai.png" alt="A√ßa√≠ Prime Fachada" 
             class="absolute inset-0 w-full h-full object-cover opacity-80"
             onerror="handleImageError(this, 'hero')">
        
        <!-- Gradiente Overlay (Ajustado para roxo) -->
        <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-brand-red/20 to-brand-red/90"></div>

        <!-- Conte√∫do Hero -->
        <div class="relative z-20 h-full flex flex-col justify-between p-6 pt-8">
            <!-- Topo: Logo Texto + Carrinho Icon -->
            <div class="flex justify-between items-start">
                <div>
                    <h1 class="font-display font-bold text-3xl text-white leading-tight drop-shadow-lg">
                        A√ßa√≠ Prime<span class="text-brand-yellow">.</span>
                    </h1>
                    <h2 class="font-sans text-brand-gray text-sm tracking-widest uppercase opacity-90">
                        Fresh & Frozen
                    </h2>
                </div>
                
                <!-- Bot√£o Carrinho (Topo) -->
                <button onclick="toggleCart()" class="relative bg-white/10 backdrop-blur-md p-3 rounded-full border border-white/20 active:scale-95 transition-all">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <span id="cart-counter-hero" class="absolute -top-1 -right-1 bg-brand-yellow text-brand-red text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full hidden">0</span>
                </button>
            </div>

            <!-- Bottom Hero: Slogan -->
            <div class="mb-6">
                <span class="inline-block px-3 py-1 bg-brand-yellow/90 text-brand-red text-xs font-bold rounded-full mb-3 shadow-lg">
                    ABERTO AGORA
                </span>
                <p class="font-display font-bold text-3xl text-white leading-tight max-w-[80%] drop-shadow-md">
                    Energia que vem da <br><span class="text-brand-yellow italic">Amaz√¥nia</span>
                </p>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="space-y-10 -mt-8 pt-8 relative z-0">

        <!-- CATEGORIA 1: TIGELAS DE A√áA√ç -->
        <section class="pl-6 animate-fade-in-up">
            <div class="flex items-center justify-between pr-6 mb-4">
                <h3 class="font-display font-bold text-xl text-gray-800 flex items-center gap-2">
                    <span class="w-2 h-6 bg-brand-red rounded-full"></span>
                    Tigelas de A√ßa√≠
                </h3>
            </div>
            
            <!-- Carrossel Horizontal (Scroll Snap) -->
            <div class="flex overflow-x-auto gap-4 pb-8 pr-6 hide-scroll snap-x-mandatory">
                
                <!-- Produto 1 -->
                <div class="snap-child min-w-[280px] w-[280px] md:min-w-[320px] bg-white rounded-2xl shadow-md overflow-hidden flex flex-col border border-gray-100">
                    <div class="h-40 bg-gray-200 relative overflow-hidden group">
                        <img src="acai300.png" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" onerror="handleImageError(this)">
                        <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/60 to-transparent p-3 pt-8">
                            <h3 class="text-white font-display font-bold text-lg leading-tight shadow-black drop-shadow-md">A√ßa√≠ Tradicional 300ml</h3>
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-1 justify-between">
                        <p class="text-xs text-gray-500 mb-3 h-8 overflow-hidden">A√ßa√≠ puro, granola, banana</p>
                        <div class="flex items-center justify-between mt-1">
                             <span class="text-xl font-bold text-gray-800">R$ 18,00</span>
                             <button onclick="addSimpleToCart(1, 'A√ßa√≠ Tradicional 300ml', 18.00)" class="bg-brand-red text-white p-2 rounded-full shadow-lg hover:bg-opacity-90 transition-transform active:scale-95">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                             </button>
                        </div>
                    </div>
                </div>

                <!-- Produto 2 -->
                <div class="snap-child min-w-[280px] w-[280px] md:min-w-[320px] bg-white rounded-2xl shadow-md overflow-hidden flex flex-col border border-gray-100">
                    <div class="h-40 bg-gray-200 relative overflow-hidden group">
                        <img src="acaipower500.png" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" onerror="handleImageError(this)">
                        <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/60 to-transparent p-3 pt-8">
                            <h3 class="text-white font-display font-bold text-lg leading-tight shadow-black drop-shadow-md">A√ßa√≠ Power 500ml</h3>
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-1 justify-between">
                        <p class="text-xs text-gray-500 mb-3 h-8 overflow-hidden">A√ßa√≠ com leite ninho, morango, pa√ßoca</p>
                        <div class="flex items-center justify-between mt-1">
                             <span class="text-xl font-bold text-gray-800">R$ 25,00</span>
                             <button onclick="addSimpleToCart(2, 'A√ßa√≠ Power 500ml', 25.00)" class="bg-brand-red text-white p-2 rounded-full shadow-lg hover:bg-opacity-90 transition-transform active:scale-95">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                             </button>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- CATEGORIA 2: VITAMINAS & BEBIDAS -->
        <section class="pl-6">
            <div class="flex items-center justify-between pr-6 mb-4">
                <h3 class="font-display font-bold text-xl text-gray-800 flex items-center gap-2">
                    <span class="w-2 h-6 bg-brand-yellow rounded-full"></span>
                    Vitaminas & Bebidas
                </h3>
            </div>
            
            <div class="flex overflow-x-auto gap-4 pb-8 pr-6 hide-scroll snap-x-mandatory">
                
                <!-- Produto 3 -->
                <div class="snap-child min-w-[280px] w-[280px] md:min-w-[320px] bg-white rounded-2xl shadow-md overflow-hidden flex flex-col border border-gray-100">
                    <div class="h-40 bg-gray-200 relative overflow-hidden group">
                        <img src="vitaminaacai.png" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" onerror="handleImageError(this)">
                        <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/60 to-transparent p-3 pt-8">
                            <h3 class="text-white font-display font-bold text-lg leading-tight shadow-black drop-shadow-md">Vitamina de A√ßa√≠ 500ml</h3>
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-1 justify-between">
                        <p class="text-xs text-gray-500 mb-3 h-8 overflow-hidden">Energia l√≠quida e cremosa.</p>
                        <div class="flex items-center justify-between mt-1">
                             <span class="text-xl font-bold text-gray-800">R$ 16,00</span>
                             <button onclick="addSimpleToCart(3, 'Vitamina de A√ßa√≠ 500ml', 16.00)" class="bg-brand-red text-white p-2 rounded-full shadow-lg hover:bg-opacity-90 transition-transform active:scale-95">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                             </button>
                        </div>
                    </div>
                </div>

                <!-- Produto 4 -->
                <div class="snap-child min-w-[280px] w-[280px] md:min-w-[320px] bg-white rounded-2xl shadow-md overflow-hidden flex flex-col border border-gray-100">
                    <div class="h-40 bg-gray-200 relative overflow-hidden group">
                        <img src="detox.png" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" onerror="handleImageError(this)">
                        <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/60 to-transparent p-3 pt-8">
                            <h3 class="text-white font-display font-bold text-lg leading-tight shadow-black drop-shadow-md">Suco Detox</h3>
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-1 justify-between">
                        <p class="text-xs text-gray-500 mb-3 h-8 overflow-hidden">Refrescante e saud√°vel.</p>
                        <div class="flex items-center justify-between mt-1">
                             <span class="text-xl font-bold text-gray-800">R$ 12,00</span>
                             <button onclick="addSimpleToCart(4, 'Suco Detox', 12.00)" class="bg-brand-red text-white p-2 rounded-full shadow-lg hover:bg-opacity-90 transition-transform active:scale-95">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                             </button>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- CATEGORIA 3: ADICIONAIS -->
        <section class="pl-6">
            <div class="flex items-center justify-between pr-6 mb-4">
                <h3 class="font-display font-bold text-xl text-gray-800 flex items-center gap-2">
                    <span class="w-2 h-6 bg-gray-400 rounded-full"></span>
                    Adicionais
                </h3>
            </div>
            
            <div class="flex overflow-x-auto gap-4 pb-8 pr-6 hide-scroll snap-x-mandatory">
                
                <!-- Produto 5 -->
                <div class="snap-child min-w-[280px] w-[280px] md:min-w-[320px] bg-white rounded-2xl shadow-md overflow-hidden flex flex-col border border-gray-100">
                    <div class="h-40 bg-gray-200 relative overflow-hidden group">
                        <img src="ninho.png" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" onerror="handleImageError(this)">
                        <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/60 to-transparent p-3 pt-8">
                            <h3 class="text-white font-display font-bold text-lg leading-tight shadow-black drop-shadow-md">Leite Ninho</h3>
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-1 justify-between">
                        <p class="text-xs text-gray-500 mb-3 h-8 overflow-hidden">Por√ß√£o extra para cobertura.</p>
                        <div class="flex items-center justify-between mt-1">
                             <span class="text-xl font-bold text-gray-800">R$ 3,00</span>
                             <button onclick="addSimpleToCart(5, 'Leite Ninho', 3.00)" class="bg-brand-red text-white p-2 rounded-full shadow-lg hover:bg-opacity-90 transition-transform active:scale-95">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                             </button>
                        </div>
                    </div>
                </div>

                <!-- Produto 6 -->
                <div class="snap-child min-w-[280px] w-[280px] md:min-w-[320px] bg-white rounded-2xl shadow-md overflow-hidden flex flex-col border border-gray-100">
                    <div class="h-40 bg-gray-200 relative overflow-hidden group">
                        <img src="granola.png" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" onerror="handleImageError(this)">
                        <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/60 to-transparent p-3 pt-8">
                            <h3 class="text-white font-display font-bold text-lg leading-tight shadow-black drop-shadow-md">Granola Extra</h3>
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-1 justify-between">
                        <p class="text-xs text-gray-500 mb-3 h-8 overflow-hidden">Croc√¢ncia garantida.</p>
                        <div class="flex items-center justify-between mt-1">
                             <span class="text-xl font-bold text-gray-800">R$ 2,50</span>
                             <button onclick="addSimpleToCart(6, 'Granola Extra', 2.50)" class="bg-brand-red text-white p-2 rounded-full shadow-lg hover:bg-opacity-90 transition-transform active:scale-95">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                             </button>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- PROVAS SOCIAIS -->
        <section class="px-6 pb-10">
            <h3 class="font-display font-bold text-xl text-gray-800 mb-4 text-center">Quem prova, ama! üíú</h3>
            <div class="grid grid-cols-2 gap-3">
                 <div class="relative rounded-xl overflow-hidden aspect-[4/5] bg-gray-200 shadow-md">
                     <video src="video1.mp4" class="w-full h-full object-cover" controls muted poster="https://images.unsplash.com/photo-1590301157890-4810ed352733?auto=format&fit=crop&w=400&q=60" onerror="handleImageError(this)"></video>
                     <div class="absolute top-2 right-2 bg-black/50 p-1 rounded-full"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg></div>
                 </div>
                 <div class="relative rounded-xl overflow-hidden aspect-[4/5] bg-gray-200 shadow-md">
                     <img src="clienteacai.png" class="w-full h-full object-cover" onerror="handleImageError(this)">
                 </div>
            </div>
        </section>

    </main>

    <!-- FLOATING CART BUTTON (Mobile Sticky) -->
    <div class="fixed bottom-6 right-6 z-40 animate-bounce">
        <button onclick="toggleCart()" class="bg-brand-red text-white p-4 rounded-full shadow-2xl hover:scale-105 transition-transform flex items-center justify-center relative">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
            </svg>
            <span id="cart-counter-float" class="absolute -top-1 -right-1 bg-brand-yellow text-brand-red text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full border-2 border-white hidden">0</span>
        </button>
    </div>

    <!-- TOAST NOTIFICATION -->
    <div id="toast" class="fixed top-4 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-6 py-3 rounded-full shadow-xl z-50 transition-all duration-300 opacity-0 translate-y-[-20px] pointer-events-none flex items-center gap-3">
        <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
        <span class="font-medium text-sm">Adicionado ao carrinho!</span>
    </div>

    <!-- CART SIDEBAR (Off-Canvas) -->
    <div id="cart-overlay" onclick="toggleCart()" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden transition-opacity opacity-0"></div>
    
    <aside id="cart-sidebar" class="fixed top-0 right-0 h-full w-[90%] max-w-[400px] bg-white z-50 shadow-2xl transform translate-x-full transition-transform duration-300 flex flex-col">
        <!-- Header Carrinho -->
        <div class="p-5 bg-brand-red text-white flex justify-between items-center shadow-lg">
            <div>
                <h2 class="font-display font-bold text-xl">Seu Pedido</h2>
                <p class="text-xs text-brand-yellow/80">A√ßa√≠ Prime</p>
            </div>
            <button onclick="toggleCart()" class="p-2 hover:bg-white/20 rounded-full transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <!-- Lista de Itens -->
        <div id="cart-items" class="flex-1 overflow-y-auto p-5 space-y-4">
            <!-- Items inseridos via JS -->
            <div id="empty-cart-msg" class="flex flex-col items-center justify-center h-full text-gray-400 opacity-60">
                <svg class="w-16 h-16 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
                <p>Seu carrinho est√° vazio</p>
            </div>
        </div>

        <!-- Footer / Checkout -->
        <div class="p-6 bg-gray-50 border-t border-gray-100">
            <!-- Resumo -->
            <div class="flex justify-between items-center mb-4 text-lg font-bold text-gray-800">
                <span>Total:</span>
                <span id="cart-total" class="text-brand-red">R$ 0,00</span>
            </div>

            <!-- Formul√°rio Simples -->
            <div class="space-y-3 mb-4">
                <input type="text" id="client-name" placeholder="Seu Nome" class="w-full bg-white border border-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:border-brand-red focus:ring-1 focus:ring-brand-red transition-all">
                <input type="text" id="client-address" placeholder="Endere√ßo de Entrega" class="w-full bg-white border border-gray-300 rounded-lg p-3 text-sm focus:outline-none focus:border-brand-red focus:ring-1 focus:ring-brand-red transition-all">
                <textarea id="client-notes" placeholder="Observa√ß√µes (ex: sem pa√ßoca)" class="w-full bg-white border border-gray-300 rounded-lg p-3 text-sm h-20 resize-none focus:outline-none focus:border-brand-red focus:ring-1 focus:ring-brand-red transition-all"></textarea>
            </div>

            <!-- Bot√£o WhatsApp -->
            <button onclick="checkout()" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 rounded-xl shadow-lg transform active:scale-95 transition-all flex items-center justify-center gap-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.305-5.235c0-5.453 4.435-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                Finalizar no WhatsApp
            </button>
        </div>
    </aside>

    <!-- LOGIC SCRIPT -->
    <script>
        // CONFIGURA√á√ÉO DO NEG√ìCIO
        const BUSINESS_PHONE = "5592987654321"; // A√ßa√≠ Prime

        // ESTADO (CARRINHO)
        let cart = [];

        // FUN√á√ïES PRINCIPAIS
        function addSimpleToCart(id, name, price) {
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ id, name, price, quantity: 1 });
            }
            
            updateCartUI();
            showToast();
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartUI();
        }

        function updateQuantity(id, change) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(id);
                } else {
                    updateCartUI();
                }
            }
        }

        function updateCartUI() {
            const container = document.getElementById('cart-items');
            const totalEl = document.getElementById('cart-total');
            const counters = [document.getElementById('cart-counter-hero'), document.getElementById('cart-counter-float')];
            const emptyMsg = document.getElementById('empty-cart-msg');

            // Atualiza contadores
            const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);
            counters.forEach(c => {
                c.innerText = totalItems;
                if(totalItems > 0) c.classList.remove('hidden');
                else c.classList.add('hidden');
            });

            // Renderiza Lista
            if (cart.length === 0) {
                container.innerHTML = '';
                container.appendChild(emptyMsg);
                emptyMsg.style.display = 'flex';
                totalEl.innerText = 'R$ 0,00';
                return;
            }

            emptyMsg.style.display = 'none';
            container.innerHTML = '';

            let totalPrice = 0;

            cart.forEach(item => {
                totalPrice += item.price * item.quantity;
                
                const div = document.createElement('div');
                div.className = 'flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-100';
                div.innerHTML = `
                    <div class="flex-1">
                        <h4 class="font-bold text-gray-800 text-sm">${item.name}</h4>
                        <p class="text-brand-red font-bold text-xs">R$ ${(item.price * item.quantity).toFixed(2).replace('.', ',')}</p>
                    </div>
                    <div class="flex items-center gap-3 bg-white rounded-full px-2 py-1 shadow-sm border border-gray-200">
                        <button onclick="updateQuantity('${item.id}', -1)" class="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-brand-red font-bold">-</button>
                        <span class="text-sm font-bold w-4 text-center">${item.quantity}</span>
                        <button onclick="updateQuantity('${item.id}', 1)" class="w-6 h-6 flex items-center justify-center text-gray-500 hover:text-green-600 font-bold">+</button>
                    </div>
                `;
                container.appendChild(div);
            });

            totalEl.innerText = `R$ ${totalPrice.toFixed(2).replace('.', ',')}`;
        }

        // UX: TOGGLE CART
        function toggleCart() {
            const sidebar = document.getElementById('cart-sidebar');
            const overlay = document.getElementById('cart-overlay');
            const isOpen = !sidebar.classList.contains('translate-x-full');

            if (isOpen) {
                sidebar.classList.add('translate-x-full');
                overlay.classList.remove('opacity-100');
                setTimeout(() => overlay.classList.add('hidden'), 300);
            } else {
                overlay.classList.remove('hidden');
                // Pequeno delay para permitir a transi√ß√£o de opacidade
                setTimeout(() => {
                    overlay.classList.add('opacity-100');
                    sidebar.classList.remove('translate-x-full');
                }, 10);
            }
        }

        // UX: TOAST
        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('opacity-0', 'translate-y-[-20px]');
            
            setTimeout(() => {
                toast.classList.add('opacity-0', 'translate-y-[-20px]');
            }, 2500);
        }

        // IMAGE FALLBACK ROBUSTO
        function handleImageError(img, type) {
            // Se for Hero, carrega uma imagem linda do Unsplash de A√ßa√≠
            if (type === 'hero') {
                img.src = "https://images.unsplash.com/photo-1590301157890-4810ed352733?auto=format&fit=crop&w=800&q=80";
                // Remove o handler para evitar loop se esta tamb√©m falhar (embora improv√°vel)
                img.onerror = null; 
                return;
            }
            
            // Fallback inteligente para produtos baseados no nome
            const parentText = img.closest('.snap-child')?.innerText?.toLowerCase() || '';
            
            if (parentText.includes('tradicional') || parentText.includes('power')) {
                // Tigela de A√ßa√≠
                img.src = "https://images.unsplash.com/photo-1490474418585-ba9bad8fd0ea?auto=format&fit=crop&w=400&q=80";
            } else if (parentText.includes('vitamina') || parentText.includes('detox')) {
                // Smoothies/Sucos
                img.src = "https://images.unsplash.com/photo-1610970881699-44a5587cabec?auto=format&fit=crop&w=400&q=80";
            } else if (parentText.includes('cliente')) {
                 // Foto de cliente
                img.src = "https://images.unsplash.com/photo-1556740758-90de374c12ad?auto=format&fit=crop&w=400&q=80";
            } else {
                // Gen√©rico (Granola/Ninho)
                img.src = "https://images.unsplash.com/photo-1517673132405-a56a62b18caf?auto=format&fit=crop&w=400&q=80"; 
            }
            img.onerror = null;
        }

        // CHECKOUT WHATSAPP
        function checkout() {
            if (cart.length === 0) {
                alert("Adicione itens ao carrinho primeiro!");
                return;
            }

            const name = document.getElementById('client-name').value.trim();
            const address = document.getElementById('client-address').value.trim();
            const notes = document.getElementById('client-notes').value.trim();

            if (!name || !address) {
                alert("Por favor, preencha seu Nome e Endere√ßo.");
                document.getElementById('client-name').focus();
                return;
            }

            // Constru√ß√£o da Mensagem
            let msg = `*NOVO PEDIDO - A√áA√ç PRIME* üíú\n\n`;
            msg += `*Cliente:* ${name}\n`;
            msg += `*Endere√ßo:* ${address}\n\n`;
            
            msg += `*ITENS DO PEDIDO:*\n`;
            let total = 0;
            cart.forEach(item => {
                const subtotal = item.price * item.quantity;
                total += subtotal;
                msg += `‚ñ™ ${item.quantity}x ${item.name} (R$ ${subtotal.toFixed(2).replace('.', ',')})\n`;
            });

            msg += `\n*Observa√ß√µes:* ${notes ? notes : 'Nenhuma'}\n`;
            msg += `--------------------------------\n`;
            msg += `*TOTAL: R$ ${total.toFixed(2).replace('.', ',')}*\n`;
            msg += `--------------------------------\n`;
            msg += `Forma de Pagamento: A combinar`;

            const encodedMsg = encodeURIComponent(msg);
            const url = `https://wa.me/${BUSINESS_PHONE}?text=${encodedMsg}`;
            
            window.open(url, '_blank');
        }
    </script>
</body>
</html>
